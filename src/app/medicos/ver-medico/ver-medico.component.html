<ion-content>
  <app-menu-normal></app-menu-normal>
  <app-custom-header [varName]="nombrePag"></app-custom-header>
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{medico.Nombre}} {{medico.Apellidos}}</ion-card-title>
      <ion-card-subtitle>{{medico.Especializacion}}</ion-card-subtitle>
    </ion-card-header>
  
    <ion-card-content>
      Dirección: {{medico.Direccion}}
      <br>
      <ion-button color="medium" (click)="irCita()" >Apuntar Cita</ion-button>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Valoraciones:</ion-card-title>
      <p id="nota">({{medico.Valoracion}}/5)</p><ngx-star-rating [(ngModel)]="medico.round" [disabled]="true"></ngx-star-rating>
      <p id="opiniones">{{medico.Valoraciones}} Opiniones</p>
    </ion-card-header>
  </ion-card>
  <ion-card *ngIf="valorado == false; else loggedOut">
    <ion-card-header>
      <ion-card-title>Deja tu valoración:</ion-card-title>
      <form [formGroup]="form">
        <ngx-star-rating formControlName="rating" [id]="'rating'" (change)="valorarMedico()"></ngx-star-rating>
    </form>
    </ion-card-header>
  </ion-card>
  <ng-template #loggedOut>
    <ion-card>
      <ion-card-header>
        <ion-card-title>Tu Valoración:</ion-card-title>
        <p id="nota">({{this.form.value.rating}}/5)</p><ngx-star-rating [(ngModel)]="this.form.value.rating" [disabled]="true"></ngx-star-rating>
      </ion-card-header>
    </ion-card>
    
  </ng-template>
</ion-content>
